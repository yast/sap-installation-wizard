        <ask>
          <title>SAP System Parameters</title>
          <dialog config:type="integer">9</dialog>
          <element config:type="integer">10</element>
             <width config:type="integer">70</width>
             <height config:type="integer">20</height>
          <help><![CDATA[
              <p><b>Source SID (SAP System ID)</b><br>Enter the three letter SAP System ID of the system which should be renamed.</p>
            ]]>
          </help>
          <file>/tmp/ay_q_source_sid</file>
          <question>Source SID (SAP System ID)</question>
          <stage>cont</stage>
          <default>MY_SOURCE_SID</default>
          <script>
            <filename>my_source_sid.sh</filename>
            <rerun_on_error config:type="boolean">true</rerun_on_error>
            <environment config:type="boolean">true</environment>
            <source><![CDATA[
function check_source_sid() {
        local sid=$1 reserved_sids rsid
        reserved_sids="ADD ALL AND ANY ASC COM DBA END EPS FOR GID IBM INT \
        KEY LOG MON NIX NOT OFF OMS RAW ROW SAP SET SGA SHG SID SQL SYS TMP \
        UID USR VAR"

        LC_ALL=POSIX

        [ -z "$sid" ] && echo "You need to provide a SID." && return 1
        [ "${#sid}" -ne 3 ] && echo "The SID needs to be exactly 3 chars. You entered '${sid}'." && return 1
        [ "${sid#[0-9]}" != "$sid" ] && echo "The SID needs to start with a letter. You entered '${sid}'." && return 1
        [ -n "${sid//[0-9A-Z]/}" ] && echo "The SID needs to be upper case. You entered '${sid}'." && return 1
        [ -z `ls -d1 /sapmnt/${sid} 2>/dev/null` ] && echo "You entered '${sid}' which could not be found on this system." && return 1
        for rsid in $reserved_sids; do
                case $sid in
                        $rsid)
                                echo "The SID '${sid}' is reserved and cannot be used."
                                return 1
                                ;;
                esac
        done
        return 0
}
check_source_sid "$VAL"
]]>
            </source>
            <debug config:type="boolean">false</debug>
            <feedback config:type="boolean">true</feedback>
          </script>
        </ask>
